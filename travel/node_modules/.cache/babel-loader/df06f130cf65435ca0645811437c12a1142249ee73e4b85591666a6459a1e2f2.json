{"ast":null,"code":"const canPromise = require('./can-promise');\nconst QRCode = require('./core/qrcode');\nconst CanvasRenderer = require('./renderer/canvas');\nconst SvgRenderer = require('./renderer/svg-tag.js');\nfunction renderCanvas(renderFunc, canvas, text, opts, cb) {\n  const args = [].slice.call(arguments, 1);\n  const argsNum = args.length;\n  const isLastArgCb = typeof args[argsNum - 1] === 'function';\n  if (!isLastArgCb && !canPromise()) {\n    throw new Error('Callback required as last argument');\n  }\n  if (isLastArgCb) {\n    if (argsNum < 2) {\n      throw new Error('Too few arguments provided');\n    }\n    if (argsNum === 2) {\n      cb = text;\n      text = canvas;\n      canvas = opts = undefined;\n    } else if (argsNum === 3) {\n      if (canvas.getContext && typeof cb === 'undefined') {\n        cb = opts;\n        opts = undefined;\n      } else {\n        cb = opts;\n        opts = text;\n        text = canvas;\n        canvas = undefined;\n      }\n    }\n  } else {\n    if (argsNum < 1) {\n      throw new Error('Too few arguments provided');\n    }\n    if (argsNum === 1) {\n      text = canvas;\n      canvas = opts = undefined;\n    } else if (argsNum === 2 && !canvas.getContext) {\n      opts = text;\n      text = canvas;\n      canvas = undefined;\n    }\n    return new Promise(function (resolve, reject) {\n      try {\n        const data = QRCode.create(text, opts);\n        resolve(renderFunc(data, canvas, opts));\n      } catch (e) {\n        reject(e);\n      }\n    });\n  }\n  try {\n    const data = QRCode.create(text, opts);\n    cb(null, renderFunc(data, canvas, opts));\n  } catch (e) {\n    cb(e);\n  }\n}\nexports.create = QRCode.create;\nexports.toCanvas = renderCanvas.bind(null, CanvasRenderer.render);\nexports.toDataURL = renderCanvas.bind(null, CanvasRenderer.renderToDataURL);\n\n// only svg for now.\nexports.toString = renderCanvas.bind(null, function (data, _, opts) {\n  return SvgRenderer.render(data, opts);\n});","map":{"version":3,"names":["canPromise","require","QRCode","CanvasRenderer","SvgRenderer","renderCanvas","renderFunc","canvas","text","opts","cb","args","slice","call","arguments","argsNum","length","isLastArgCb","Error","undefined","getContext","Promise","resolve","reject","data","create","e","exports","toCanvas","bind","render","toDataURL","renderToDataURL","toString","_"],"sources":["C:/Users/zcy/Desktop/code/gztravel/travel/node_modules/qrcode/lib/browser.js"],"sourcesContent":["\r\nconst canPromise = require('./can-promise')\r\n\r\nconst QRCode = require('./core/qrcode')\r\nconst CanvasRenderer = require('./renderer/canvas')\r\nconst SvgRenderer = require('./renderer/svg-tag.js')\r\n\r\nfunction renderCanvas (renderFunc, canvas, text, opts, cb) {\r\n  const args = [].slice.call(arguments, 1)\r\n  const argsNum = args.length\r\n  const isLastArgCb = typeof args[argsNum - 1] === 'function'\r\n\r\n  if (!isLastArgCb && !canPromise()) {\r\n    throw new Error('Callback required as last argument')\r\n  }\r\n\r\n  if (isLastArgCb) {\r\n    if (argsNum < 2) {\r\n      throw new Error('Too few arguments provided')\r\n    }\r\n\r\n    if (argsNum === 2) {\r\n      cb = text\r\n      text = canvas\r\n      canvas = opts = undefined\r\n    } else if (argsNum === 3) {\r\n      if (canvas.getContext && typeof cb === 'undefined') {\r\n        cb = opts\r\n        opts = undefined\r\n      } else {\r\n        cb = opts\r\n        opts = text\r\n        text = canvas\r\n        canvas = undefined\r\n      }\r\n    }\r\n  } else {\r\n    if (argsNum < 1) {\r\n      throw new Error('Too few arguments provided')\r\n    }\r\n\r\n    if (argsNum === 1) {\r\n      text = canvas\r\n      canvas = opts = undefined\r\n    } else if (argsNum === 2 && !canvas.getContext) {\r\n      opts = text\r\n      text = canvas\r\n      canvas = undefined\r\n    }\r\n\r\n    return new Promise(function (resolve, reject) {\r\n      try {\r\n        const data = QRCode.create(text, opts)\r\n        resolve(renderFunc(data, canvas, opts))\r\n      } catch (e) {\r\n        reject(e)\r\n      }\r\n    })\r\n  }\r\n\r\n  try {\r\n    const data = QRCode.create(text, opts)\r\n    cb(null, renderFunc(data, canvas, opts))\r\n  } catch (e) {\r\n    cb(e)\r\n  }\r\n}\r\n\r\nexports.create = QRCode.create\r\nexports.toCanvas = renderCanvas.bind(null, CanvasRenderer.render)\r\nexports.toDataURL = renderCanvas.bind(null, CanvasRenderer.renderToDataURL)\r\n\r\n// only svg for now.\r\nexports.toString = renderCanvas.bind(null, function (data, _, opts) {\r\n  return SvgRenderer.render(data, opts)\r\n})\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}